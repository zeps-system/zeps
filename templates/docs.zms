<!DOCTYPE html>
<html>
  <head>
    <style>
      /* http://prismjs.com/download.html?themes=prism&languages=scheme */
      /**
       * prism.js default theme for JavaScript, CSS and HTML
       * Based on dabblet (http://dabblet.com)
       * @author Lea Verou
       */

      code[class*="language-"],
      pre[class*="language-"] {
        color: black;
        background: none;
        text-shadow: 0 1px white;
        font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
        text-align: left;
        white-space: pre;
        word-spacing: normal;
        word-break: normal;
        word-wrap: normal;
        line-height: 1.5;

        -moz-tab-size: 4;
        -o-tab-size: 4;
        tab-size: 4;

        -webkit-hyphens: none;
        -moz-hyphens: none;
        -ms-hyphens: none;
        hyphens: none;
      }

      pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
      code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
        text-shadow: none;
        background: #b3d4fc;
      }

      pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
      code[class*="language-"]::selection, code[class*="language-"] ::selection {
        text-shadow: none;
        background: #b3d4fc;
      }

      @media print {
        code[class*="language-"],
        pre[class*="language-"] {
          text-shadow: none;
        }
      }

      /* Code blocks */
      pre[class*="language-"] {
        padding: 1em;
        margin: .5em 0;
        overflow: auto;
      }

      :not(pre) > code[class*="language-"],
      pre[class*="language-"] {
        background: #f5f2f0;
      }

      /* Inline code */
      :not(pre) > code[class*="language-"] {
        padding: .1em;
        border-radius: .3em;
        white-space: normal;
      }

      .token.comment,
      .token.prolog,
      .token.doctype,
      .token.cdata {
        color: slategray;
      }

      .token.punctuation {
        color: #999;
      }

      .namespace {
        opacity: .7;
      }

      .token.property,
      .token.tag,
      .token.boolean,
      .token.number,
      .token.constant,
      .token.symbol,
      .token.deleted {
        color: #905;
      }

      .token.selector,
      .token.attr-name,
      .token.string,
      .token.char,
      .token.builtin,
      .token.inserted {
        color: #690;
      }

      .token.operator,
      .token.entity,
      .token.url,
      .language-css .token.string,
      .style .token.string {
        color: #a67f59;
        background: hsla(0, 0%, 100%, .5);
      }

      .token.atrule,
      .token.attr-value,
      .token.keyword {
        color: #07a;
      }

      .token.function {
        color: #DD4A68;
      }

      .token.regex,
      .token.important,
      .token.variable {
        color: #e90;
      }

      .token.important,
      .token.bold {
        font-weight: bold;
      }
      .token.italic {
        font-style: italic;
      }

      .token.entity {
        cursor: help;
      }
    </style>
    <style>
      html{
        height: 100%;
      }
      body{
        font-family: sans-serif;
        font-weight: 300;
        height: 100%;
      }
      a {
        color: #666;
        text-decoration: none;
      }
      a:hover{
        color: #000;
      }
      h1 {
        font-size: 28px;
        font-weight: 300;
      }
      h2 {
        font-size: 25px;
        font-weight: 300;
      }
      h3 {
        font-size: 20px;
        font-weight: 300;
      }
      h4 {
        font-size: 17px;
        font-weight: 300;
      }
      #fancy-search {
        border-width: medium medium 1px 1px;
        border-style: none none solid solid;
        border-color: #D3D3D3;
        border-image: none;
        font-size: 14px;
        font-style: italic;
        color: #808080;
        width: 25em;
        padding-bottom: 0.3em;
        margin-top: 2em;
        margin-bottom: 2em;
      }
      #nav{
        float: left;
        width: 200px;
        padding-left: 50px;
        height: 100%;
        padding-right: 1em;
        position: fixed;
        top: 0;
        bottom: 0;
        overflow-x: scroll;
        
      }
      #nav ul{
        list-style: none;
      }
      #nav h4 {
        margin-bottom: 0px;
      }
      #docs{
        padding-left: 50px;
        margin-left: 260px;
        width: 60%;
      }
      .name{
        margin: 0;
      }
      .fun{
        padding-left: 10px;
        margin-bottom: 2em;
      }
      .fun a {
        color: #55c;
      }
      .a-little-right {
        padding-left: 1em;
      }
      .signature{
        margin: 3px;
        color: darkgrey;
        margin-left: 1em;
        font-size: 16px;
      }
      .description, .param{
        margin-left: 0.5em;
        width: 80%;
        font-size: 17px;
        text-align: justify;
      }
      .description br {
        margin-bottom: 1em;
      }
      .nav-contents{
      }
      .hidden {
        display: none;
      }
      .clickr {
        font-size: 12px;
        cursor: pointer;
      }
    </style>
    <script>
      /* http://prismjs.com/download.html?themes=prism&languages=scheme */
      var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var e=/\blang(?:uage)?-(\w+)\b/i,t=0,n=_self.Prism={util:{encode:function(e){return e instanceof a?new a(e.type,n.util.encode(e.content),e.alias):"Array"===n.util.type(e)?e.map(n.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function(e){var t=n.util.type(e);switch(t){case"Object":var a={};for(var r in e)e.hasOwnProperty(r)&&(a[r]=n.util.clone(e[r]));return a;case"Array":return e.map&&e.map(function(e){return n.util.clone(e)})}return e}},languages:{extend:function(e,t){var a=n.util.clone(n.languages[e]);for(var r in t)a[r]=t[r];return a},insertBefore:function(e,t,a,r){r=r||n.languages;var i=r[e];if(2==arguments.length){a=arguments[1];for(var l in a)a.hasOwnProperty(l)&&(i[l]=a[l]);return i}var o={};for(var s in i)if(i.hasOwnProperty(s)){if(s==t)for(var l in a)a.hasOwnProperty(l)&&(o[l]=a[l]);o[s]=i[s]}return n.languages.DFS(n.languages,function(t,n){n===r[e]&&t!=e&&(this[t]=o)}),r[e]=o},DFS:function(e,t,a,r){r=r||{};for(var i in e)e.hasOwnProperty(i)&&(t.call(e,i,e[i],a||i),"Object"!==n.util.type(e[i])||r[n.util.objId(e[i])]?"Array"!==n.util.type(e[i])||r[n.util.objId(e[i])]||(r[n.util.objId(e[i])]=!0,n.languages.DFS(e[i],t,i,r)):(r[n.util.objId(e[i])]=!0,n.languages.DFS(e[i],t,null,r)))}},plugins:{},highlightAll:function(e,t){var a={callback:t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};n.hooks.run("before-highlightall",a);for(var r,i=a.elements||document.querySelectorAll(a.selector),l=0;r=i[l++];)n.highlightElement(r,e===!0,a.callback)},highlightElement:function(t,a,r){for(var i,l,o=t;o&&!e.test(o.className);)o=o.parentNode;o&&(i=(o.className.match(e)||[,""])[1].toLowerCase(),l=n.languages[i]),t.className=t.className.replace(e,"").replace(/\s+/g," ")+" language-"+i,o=t.parentNode,/pre/i.test(o.nodeName)&&(o.className=o.className.replace(e,"").replace(/\s+/g," ")+" language-"+i);var s=t.textContent,u={element:t,language:i,grammar:l,code:s};if(n.hooks.run("before-sanity-check",u),!u.code||!u.grammar)return n.hooks.run("complete",u),void 0;if(n.hooks.run("before-highlight",u),a&&_self.Worker){var c=new Worker(n.filename);c.onmessage=function(e){u.highlightedCode=e.data,n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(u.element),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},c.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else u.highlightedCode=n.highlight(u.code,u.grammar,u.language),n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(t),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},highlight:function(e,t,r){var i=n.tokenize(e,t);return a.stringify(n.util.encode(i),r)},tokenize:function(e,t){var a=n.Token,r=[e],i=t.rest;if(i){for(var l in i)t[l]=i[l];delete t.rest}e:for(var l in t)if(t.hasOwnProperty(l)&&t[l]){var o=t[l];o="Array"===n.util.type(o)?o:[o];for(var s=0;s<o.length;++s){var u=o[s],c=u.inside,g=!!u.lookbehind,h=!!u.greedy,f=0,d=u.alias;if(h&&!u.pattern.global){var p=u.pattern.toString().match(/[imuy]*$/)[0];u.pattern=RegExp(u.pattern.source,p+"g")}u=u.pattern||u;for(var m=0,y=0;m<r.length;y+=(r[m].matchedStr||r[m]).length,++m){var v=r[m];if(r.length>e.length)break e;if(!(v instanceof a)){u.lastIndex=0;var b=u.exec(v),k=1;if(!b&&h&&m!=r.length-1){if(u.lastIndex=y,b=u.exec(e),!b)break;for(var w=b.index+(g?b[1].length:0),_=b.index+b[0].length,A=m,S=y,P=r.length;P>A&&_>S;++A)S+=(r[A].matchedStr||r[A]).length,w>=S&&(++m,y=S);if(r[m]instanceof a||r[A-1].greedy)continue;k=A-m,v=e.slice(y,S),b.index-=y}if(b){g&&(f=b[1].length);var w=b.index+f,b=b[0].slice(f),_=w+b.length,x=v.slice(0,w),O=v.slice(_),j=[m,k];x&&j.push(x);var N=new a(l,c?n.tokenize(b,c):b,d,b,h);j.push(N),O&&j.push(O),Array.prototype.splice.apply(r,j)}}}}}return r},hooks:{all:{},add:function(e,t){var a=n.hooks.all;a[e]=a[e]||[],a[e].push(t)},run:function(e,t){var a=n.hooks.all[e];if(a&&a.length)for(var r,i=0;r=a[i++];)r(t)}}},a=n.Token=function(e,t,n,a,r){this.type=e,this.content=t,this.alias=n,this.matchedStr=a||null,this.greedy=!!r};if(a.stringify=function(e,t,r){if("string"==typeof e)return e;if("Array"===n.util.type(e))return e.map(function(n){return a.stringify(n,t,e)}).join("");var i={type:e.type,content:a.stringify(e.content,t,r),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:r};if("comment"==i.type&&(i.attributes.spellcheck="true"),e.alias){var l="Array"===n.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(i.classes,l)}n.hooks.run("wrap",i);var o="";for(var s in i.attributes)o+=(o?" ":"")+s+'="'+(i.attributes[s]||"")+'"';return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+(o?" "+o:"")+">"+i.content+"</"+i.tag+">"},!_self.document)return _self.addEventListener?(_self.addEventListener("message",function(e){var t=JSON.parse(e.data),a=t.language,r=t.code,i=t.immediateClose;_self.postMessage(n.highlight(r,n.languages[a],a)),i&&_self.close()},!1),_self.Prism):_self.Prism;var r=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return r&&(n.filename=r.src,document.addEventListener&&!r.hasAttribute("data-manual")&&("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(n.highlightAll):window.setTimeout(n.highlightAll,16):document.addEventListener("DOMContentLoaded",n.highlightAll))),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism);
      Prism.languages.scheme={comment:/;.*/,string:/"(?:[^"\\\r\n]|\\.)*?"|'[^('\s]*/,keyword:{pattern:/(\()(?:define(?:-syntax|-library|-values)?|(?:case-)?lambda|let(?:\*|rec)?(?:-values)?|else|if|cond|begin|delay(?:-force)?|parameterize|guard|set!|(?:quasi-)?quote|syntax-rules)/,lookbehind:!0},builtin:{pattern:/(\()(?:(?:cons|car|cdr|list|call-with-current-continuation|call\/cc|append|abs|apply|eval)\b|null\?|pair\?|boolean\?|eof-object\?|char\?|procedure\?|number\?|port\?|string\?|vector\?|symbol\?|bytevector\?)/,lookbehind:!0},number:{pattern:/(\s|\))[-+]?[0-9]*\.?[0-9]+(?:\s*[-+]\s*[0-9]*\.?[0-9]+i)?\b/,lookbehind:!0},"boolean":/#[tf]/,operator:{pattern:/(\()(?:[-+*%\/]|[<>]=?|=>?)/,lookbehind:!0},"function":{pattern:/(\()[^\s()]*(?=\s)/,lookbehind:!0},punctuation:/[()]/};
    </script>
    <script>
      String.prototype.contains = function(it) { return this.indexOf(it) != -1; };
      filterFuns = function(pattern) {
        if (pattern === "") {
          [].slice.call(document.getElementsByClassName("nav-contents")).forEach(function(element) {
            var title = element.getAttribute("id");
            var par = document.getElementById(title.replace("-nav", "-expand"));

            toggle(par, false);
            toggleNamespace(document.getElementById(title.replace("-nav", "-namespace")), true);
          });
          return;
        }
        [].slice.call(document.getElementsByClassName("nav-contents")).forEach(function(element) {
          var title = element.getAttribute("id");
          var par = document.getElementById(title.replace("-nav", "-expand"));

          if (title.toLowerCase().contains(pattern.toLowerCase())) {
            toggleNamespace(document.getElementById(title.replace("-nav", "-namespace")), true);
            toggle(par, true);
          } else {
            toggleNamespace(document.getElementById(title.replace("-nav", "-namespace")), false);
            toggle(par, false);
          }
        });
      };
      const PROP = "hidden";
      toggleNamespace = function(el, show) {
        show ? el.classList.remove(PROP) : el.classList.add(PROP);
      };
      toggle = function(el, force) {
          innerEl = document.getElementById(el.getAttribute("id").replace("-expand", "-nav"));

          if ((innerEl.classList.contains(PROP) && force !== false) || force === true) {
            el.innerHTML = "Click to hide";
            innerEl.classList.remove(PROP);
          } else {
            el.innerHTML = "Click to expand";
            innerEl.classList.add(PROP)
          }
      };
      document.addEventListener("DOMContentLoaded", function() { 
        function toggleView(ev) {
          var el = ev.target;
          toggle(el);
        }
        [].slice.call(document.getElementsByClassName("nav-contents")).forEach(function(el) {
          var name = el.getAttribute("id");
          var par = document.getElementById(name.replace("-nav", "-expand"));
          par.addEventListener("click", toggleView);
        });
        [].slice.call(document.getElementsByTagName("fun")).forEach(function(el) {
          //sorry
          var newEl = document.createElement("a");

          newEl.href = "#" + el.innerHTML;

          newEl.innerHTML = el.innerHTML;

          el.parentNode.replaceChild(newEl, el);
        });
        [].slice.call(document.getElementsByTagName("par")).forEach(function(el) {
          //sorry
          var newEl = document.createElement("a");
          var funName = el.parentNode.parentNode.parentNode.id;

          newEl.href = "#" + funName + "." + el.innerHTML;

          newEl.innerHTML = el.innerHTML;

          el.parentNode.replaceChild(newEl, el);
        });
        [].slice.call(document.getElementsByTagName("zepto")).forEach(function(el) {
          //sorry
          if (el.innerHTML.contains("\n")) {
            var parent = document.createElement("pre");
            var newEl = document.createElement("code");
            parent.appendChild(newEl);
          } else {
            var newEl = document.createElement("span");
            var parent = newEl;
          }

          newEl.innerHTML = el.innerHTML;

          newEl.classList.add("language-scheme");
          el.parentNode.replaceChild(parent, el);
          Prism.highlightElement(newEl);
        });
      });
    </script>
  </head>
  <body>
    <div id="nav">
      <h3>Functions</h3>
      <input id="fancy-search" onkeyup="filterFuns(this.value)" placeholder="Search a Function" type="text"></input>
      {{#elements}}
        <div id="{{namespace}}-namespace">
          <h4><a href="#{{namespace}}">{{namespace}}</a></h4>
          <span id="{{namespace}}-expand" class="clickr">Click to expand</span>
          <div id="{{namespace}}-nav" class="nav-contents hidden">
            <ul>
              {{#contents}}
              <li><a href="#{{name}}">{{name}}</a></li>
              {{/contents}}
            </ul>
          </div>
        </div>
      {{/elements}}
    </div>
    <div id="docs">
      <h1>{{name}}</h1>
      <span class="description">{{description}}</span>
      {{#elements}}
      <h2 id="{{namespace}}">{{namespace}}</h2>
      {{#contents}}
        <div class="fun" id="{{name}}">
          <h3 class="name">({{name}}{{#params}} <a href="#{{name}}.{{pname}}">{{pname}}</a>{{/params}}) {{#primitive?}}<b>[primitive]</b>{{/primitive?}}</h3>
          <div class="a-little-right">
            <p class="description">{{{docs}}}</p>
            <b>Parameters:</b>
            {{#params}}
            <p class="param" id="{{name}}.{{pname}}"><i>{{pname}}</i>: {{{doc}}}</p>
            {{/params}}
            <p class="complexity"><b>Complexity:</b> {{{complexity}}}</p>
            <p class="returns"><b>Returns:</b> {{{returns}}}</p>
          </div>
        </div>
      {{/contents}}
      {{/elements}}
    </div>
  </body>
</html>
